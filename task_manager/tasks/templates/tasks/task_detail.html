<!-- task_manager/tasks/templates/tasks/task_detail.html -->

{% extends "base.html" %}

{% block title %}{{ task.title }}{% endblock %}

{% block content %}
<section>
    <h1 class="mb-4">{{ task.title }}</h1>

    <article class="card">
        <div class="card-body">
            <p class="card-text">{{ task.description }}</p>

            <dl class="row">
                <dt class="col-sm-3">作成日</dt>
                <dd class="col-sm-9">{{ task.created_at|date:"Y-m-d H:i" }}</dd>

                <dt class="col-sm-3">更新日</dt>
                <dd class="col-sm-9">{{ task.updated_at|date:"Y-m-d H:i" }}</dd>

                <dt class="col-sm-3">状態</dt>
                <dd class="col-sm-9">
                    {% if task.is_completed %}
                        <span class="badge bg-secondary">完了</span>
                    {% else %}
                        <span class="badge bg-light text-dark border">未完了</span>
                    {% endif %}
                </dd>

                {% if task.completed_comment %}
                    <dt class="col-sm-3">完了コメント</dt>
                    <dd class="col-sm-9">{{ task.completed_comment }}</dd>
                {% endif %}

                <dt class="col-sm-3">アーカイブ</dt>
                <dd class="col-sm-9">{{ task.is_archived|yesno:"済,-" }}</dd>
            </dl>

            <nav class="mt-3">
                <a href="{% url 'tasks:task_update' task.pk %}" class="btn btn-outline-primary">編集</a>
                <a href="{% url 'tasks:task_delete' task.pk %}" class="btn btn-outline-danger">削除</a>
                <a href="{% url 'tasks:task_list' %}" class="btn btn-outline-secondary">一覧へ戻る</a>
            </nav>
        </div>
    </article>
</section>
{% endblock %}
